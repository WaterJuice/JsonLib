////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//  JsonLibTests
//
//  Unit tests for JsonLib.
//  Uses WjTestLib as unit test harness
//
//  This is free and unencumbered software released into the public domain - November 2019 waterjuice.org
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//  IMPORTS
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

#include <stdio.h>
#include <stdlib.h>
#include "JsonLib.h"
#include "WjTestLib.h"

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//  EXTERNAL FUNCTIONS
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

void JsonLibTests_Parsing_Register( void );
void JsonLibTests_Output_Register( void );
void JsonLibTests_Unmarshall_Register( void );
void JsonLibTests_Marshall_Register( void );
void JsonLibTests_RoundTrip_Register( void );
void JsonLibTests_Base64_Register( void );

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//  PUBLIC FUNCTIONS
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//  main
//
//  Entry point. Registers unit tests then runs WjTestLib
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
int
main
    (
        int     ArgC,
        char**  ArgV
    )
{
    int result = 0;

    // Register tests
    JsonLibTests_Parsing_Register( );
    JsonLibTests_Output_Register( );
    JsonLibTests_Unmarshall_Register( );
    JsonLibTests_Marshall_Register( );
    JsonLibTests_RoundTrip_Register( );
    JsonLibTests_Base64_Register( );

    // Run tests
    result = WjTestLib_Run( ArgC, ArgV );

    WjTestLib_DisplayResults( );
    WjTestLib_FreeTests( );

    return result;
}
